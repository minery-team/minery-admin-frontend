(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{24165:function(e,t,r){Promise.resolve().then(r.bind(r,31102))},31102:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(57437),s=r(59077),a=r(73685);async function c(e){let{wineType:t,order:r}=e,n=await a.L.get("/product",{params:{wineType:t,order:r}});return n.data}var o=r(24033),i=r(16691),u=r.n(i),l=r(88110),d=r.n(l);async function h(e){let t=await a.L.delete("/product/".concat(e));return t.data}var m=function(e){var t;let{wine:r,refetchWineList:s}=e,a=(0,o.useRouter)(),c=e=>{a.push("/revise-wine/".concat(e))},i=async e=>{await h(e).then(()=>{s()})};return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(u(),{src:null!==(t=r.image)&&void 0!==t?t:"/images/empty_wine.png",alt:r.name,width:100,height:100}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xl",children:r.name}),(0,n.jsxs)("div",{className:"flex mt-2.5 gap-2.5",children:[(0,n.jsx)(d(),{onClick:()=>c(r.id),children:"정보 수정"}),(0,n.jsx)(d(),{danger:!0,onClick:()=>i(r.id),children:"삭제"})]})]})]}),(0,n.jsx)("div",{className:"w-full h-px bg-black"})]})},f=(0,r(91016).Z)(function(){let[e,t]=function(e){let{wineType:t,order:r}=e,n=(0,s.useQuery)(["/products",t,r],async()=>{try{return await c({wineType:t,order:r})}catch(e){return[]}});return[n.data,n.refetch]}({order:0});return(0,n.jsx)("div",{className:"h-screen overflow-y-scroll",children:e&&e.map(e=>(0,n.jsx)(m,{wine:e,refetchWineList:t}))})})},73685:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});var n=r(29222),s=r(82170),a=r(92164);async function c(e){let t=(0,s.hP)();return{...e,headers:new a.uu({...e.headers.toJSON(),Authorization:"Bearer ".concat(t)})}}let o=n.default.create({baseURL:"https://r0up0kec01.execute-api.ap-northeast-2.amazonaws.com/live"});o.interceptors.request.use(c)},91016:function(e,t,r){"use strict";var n=r(57437),s=r(24033),a=r(2265),c=r(82170);t.Z=e=>t=>{let r=(0,s.useRouter)(),o=(0,c.hP)(),i=(0,s.usePathname)();return(0,a.useEffect)(()=>{o||"/login"===i||r.push("/login?from=".concat(i))},[o]),(0,n.jsx)(e,{...t})}},82170:function(e,t,r){"use strict";r.d(t,{hP:function(){return i},M8:function(){return u}});class n{get(e){return this.storage.get(e)}set(e,t){this.storage.set(e,t)}remove(e){this.storage.delete(e)}constructor(){this.storage=new Map}}class s{static canUse(){let e="LOCAL_STORAGE_TEST_KEY";try{return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch(e){return!1}}get(e){var t;return null!==(t=localStorage.getItem(e))&&void 0!==t?t:void 0}set(e,t){localStorage.setItem(e,t)}remove(e){localStorage.removeItem(e)}}class a{static canUse(){let e="SESSION_STORAGE_TEST_KEY";try{return sessionStorage.setItem(e,"test"),sessionStorage.removeItem(e),!0}catch(e){return!1}}get(e){var t;return null!==(t=sessionStorage.getItem(e))&&void 0!==t?t:void 0}set(e,t){sessionStorage.setItem(e,t)}remove(e){sessionStorage.removeItem(e)}}s.canUse()?new s:new n;let c=a.canUse()?new a:new n,o="@YWNjZXNzX3Rva2Vu";function i(){return c.get(o)}function u(e){return c.set(o,e)}}},function(e){e.O(0,[89,77,113,110,240,971,596,744],function(){return e(e.s=24165)}),_N_E=e.O()}]);